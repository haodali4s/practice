{"ast":null,"code":"//home模块专享的小仓库\n//任何的小仓库:state、mutations、actions、getters \n//引入请求函数\nimport { reqCategory, reqBannerList, reqFloorList } from '@/api';\n//仓库存储数据的地方\nlet state = {\n  //商品分类的数据,仓库里面数据起始数值不要瞎写【服务器返回的是啥】\n  category: [],\n  //首页轮播图的数据\n  bannerList: [],\n  //floor数据\n  floorList: []\n};\n//唯一可以修改仓库数据地方【工人】\nlet mutations = {\n  GETCATEGORY(state, category) {\n    state.category = category;\n  },\n  GETBANNERLIST(state, bannerList) {\n    state.bannerList = bannerList;\n    // console.log('mutation修改数据')\n  },\n\n  GETFLOORLIST(state, floorList) {\n    state.floorList = floorList;\n  }\n};\n//可以处理业务逻辑【if、异步语句等等】\nlet actions = {\n  //商品分类的actions\n  //actions地盘:可不可以书写异步语句\n  async getCategory({\n    commit,\n    state,\n    dispatch\n  }) {\n    //获取服务器的数据,存储在vuex仓库中\n    //reqCategory函数执行,返回的是Promise对象【pending、成功、失败】\n    //await 等待成功的结果\n    let result = await reqCategory();\n    //判断服务器返回的状态是200->成功\n    if (result.code == 200) {\n      //提交mutation存储服务器数据\n      commit(\"GETCATEGORY\", result.data);\n    }\n  },\n  //获取banner图的action\n  async getBannerList({\n    commit,\n    state,\n    dispatch\n  }) {\n    //获取首页数据\n    let result = await reqBannerList();\n    if (result.code == 200) {\n      // console.log('actions发请求')\n      commit(\"GETBANNERLIST\", result.data);\n    }\n  },\n  //获取Floor组件的数据\n  async getFloorList({\n    commit,\n    state,\n    dispatch\n  }) {\n    let result = await reqFloorList();\n    if (result.code == 200) {\n      commit('GETFLOORLIST', result.data);\n      // console.log(result.data);\n    }\n  }\n};\n//仓库计算属性\nlet getters = {};\n\n//对外暴露小仓库\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}